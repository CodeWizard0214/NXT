import Link from 'next/link';
import { motion, useAnimate } from 'framer-motion';
import { useEffect, useRef, useState } from 'react';
import { useInView } from 'framer-motion';
import useWindowDimensions from '@/hooks/useWindowDimensions';

const FooterSecondaryBottom = () => {
  const [cursorCoordinates, setCursorCoordinates] = useState({ x: null, y: null });
  const [isHover, setIsHover] = useState(false);

  const { width } = useWindowDimensions();

  const x1 = isHover ? cursorCoordinates.x + (width < 768 ? 1000 : 0) : 29.4999;

  const ref = useRef(null);
  const isInView = useInView(ref);

  const [scope, animate] = useAnimate();

  useEffect(() => {
    if (isInView) {
      animate(
        'path',
        {
          opacity: 1
        },
        {
          duration: 2
        }
      );
    }
  }, [isInView]);

  return (
    <div
      onMouseLeave={() => setIsHover(false)}
      onMouseEnter={() => setIsHover(true)}
      onMouseMove={(e) => setCursorCoordinates({ x: e.clientX, y: e.clientY })}
      className="footer-secondary-bottom relative">
      <div className="px-6">
        <div className="mx-auto max-w-7xl">
          <svg
            ref={scope}
            className="h-[9rem] w-full lg:h-auto"
            xmlns="http://www.w3.org/2000/svg"
            width={1247}
            height={180}
            fill="none"
            viewBox="0 0 1247 180">
            <mask
              id="d"
              width={1247}
              height={180}
              x={0}
              y={0}
              fill="#000"
              maskUnits="userSpaceOnUse">
              <path fill="#fff" d="M0 0h1247v180H0z" opacity={0} />
              <path
                opacity={0}
                fillRule="evenodd"
                d="M1 145C1 145.402 1.24017 145.764 1.60989 145.921C1.97961 146.077 2.40717 145.998 2.69563 145.718L100.987 50.5416V145C100.987 145.552 101.435 146 101.987 146H131.822C132.072 146 132.314 145.906 132.498 145.737L256.676 31.9043C256.882 31.7149 257 31.4474 257 31.1671V2C257 1.44772 256.552 1 256 1H164.883C164.33 1 163.883 1.44772 163.883 2V31.1671C163.883 31.7194 164.33 32.1671 164.883 32.1671H214.74L132.822 107.876V2C132.822 1.44772 132.375 1 131.822 1H101.987C101.728 1 101.48 1.10042 101.293 1.28015L1.30587 97.6937C1.11041 97.8822 1 98.1421 1 98.4136V145Z"
                clipRule="evenodd"
              />
              <path
                opacity={0}
                d="M278.615 147.926V3.946h27.596l62.592 95.986V3.946h27.596v143.98h-27.596l-62.592-95.987v95.987h-27.596Zm133.685 0 48.393-72.79-46.993-71.19h33.395l30.596 47.993 30.196-47.993h33.595l-46.993 71.19 48.193 72.79h-33.395l-31.596-49.593-31.796 49.593H576.3Zm187.757 0V29.342h-45.394V3.946h117.984v25.396h-45.394v118.584h-27.196Zm129.907 0v-58.592l-49.193-85.388h31.795l31.196 54.192 31.196-54.192h31.795l-49.193 85.388v58.592h-27.596Zm144.546 2.999c-14.4 0-26.83-3.133-37.29-9.398-10.401-6.266-18.433-15.032-24.099-26.297-5.599-11.265-8.399-24.363-8.399-39.294 0-14.932 2.8-28.03 8.399-39.295 5.666-11.265 13.698-20.03 24.099-26.296 10.46-6.266 22.89-9.399 37.29-9.399 14.4 0 26.8 3.133 37.2 9.399 10.46 6.266 18.49 15.031 24.09 26.296 5.67 11.265 8.5 24.363 8.5 39.295 0 14.931-2.83 28.029-8.5 39.294-5.6 11.265-13.63 20.031-24.09 26.297-10.4 6.265-22.8 9.398-37.2 9.398Zm0-25.596c9.13.133 16.73-1.833 22.8-5.899s10.6-9.832 13.6-17.298c3.06-7.466 4.6-16.198 4.6-26.196 0-9.999-1.54-18.664-4.6-25.997-3-7.332-7.53-13.031-13.6-17.097-6.07-4.066-13.67-6.166-22.8-6.3-9.13-.133-16.73 1.834-22.79 5.9-6.07 4.066-10.64 9.832-13.7 17.297-3.002 7.466-4.502 16.198-4.502 26.197 0 9.998 1.5 18.664 4.502 25.996 3.06 7.332 7.63 13.032 13.7 17.098 6.06 4.066 13.66 6.166 22.79 6.299Zm148.34 25.596c-11.59 0-21.79-2.333-30.59-6.999-8.8-4.732-15.67-11.365-20.6-19.897-4.93-8.532-7.4-18.564-7.4-30.096V4.146l27.6-.2v89.787c0 4.733.8 9.032 2.4 12.898 1.6 3.867 3.8 7.199 6.6 9.999 2.86 2.8 6.16 4.966 9.9 6.499 3.8 1.467 7.83 2.2 12.09 2.2 4.4 0 8.47-.767 12.2-2.3 3.8-1.533 7.1-3.699 9.9-6.499 2.8-2.8 4.97-6.132 6.5-9.999 1.6-3.866 2.4-8.132 2.4-12.798V3.946h27.6v89.987c0 11.532-2.47 21.564-7.4 30.096s-11.8 15.165-20.6 19.897c-8.8 4.666-19 6.999-30.6 6.999Z"
              />
            </mask>
            <path
              opacity={0}
              fill="url(#av)"
              fillRule="evenodd"
              d="M1 145C1 145.402 1.24017 145.764 1.60989 145.921C1.97961 146.077 2.40717 145.998 2.69563 145.718L100.987 50.5416V145C100.987 145.552 101.435 146 101.987 146H131.822C132.072 146 132.314 145.906 132.498 145.737L256.676 31.9043C256.882 31.7149 257 31.4474 257 31.1671V2C257 1.44772 256.552 1 256 1H164.883C164.33 1 163.883 1.44772 163.883 2V31.1671C163.883 31.7194 164.33 32.1671 164.883 32.1671H214.74L132.822 107.876V2C132.822 1.44772 132.375 1 131.822 1H101.987C101.728 1 101.48 1.10042 101.293 1.28015L1.30587 97.6937C1.11041 97.8822 1 98.1421 1 98.4136V145Z"
              clipRule="evenodd"
            />
            <path
              opacity={0}
              fill="url(#bv)"
              d="M278.615 147.926V3.946h27.596l62.592 95.986V3.946h27.596v143.98h-27.596l-62.592-95.987v95.987h-27.596Zm133.685 0 48.393-72.79-46.993-71.19h33.395l30.596 47.993 30.196-47.993h33.595l-46.993 71.19 48.193 72.79h-33.395l-31.596-49.593-31.796 49.593H576.3Zm187.757 0V29.342h-45.394V3.946h117.984v25.396h-45.394v118.584h-27.196Zm129.907 0v-58.592l-49.193-85.388h31.795l31.196 54.192 31.196-54.192h31.795l-49.193 85.388v58.592h-27.596Zm144.546 2.999c-14.4 0-26.83-3.133-37.29-9.398-10.401-6.266-18.433-15.032-24.099-26.297-5.599-11.265-8.399-24.363-8.399-39.294 0-14.932 2.8-28.03 8.399-39.295 5.666-11.265 13.698-20.03 24.099-26.296 10.46-6.266 22.89-9.399 37.29-9.399 14.4 0 26.8 3.133 37.2 9.399 10.46 6.266 18.49 15.031 24.09 26.296 5.67 11.265 8.5 24.363 8.5 39.295 0 14.931-2.83 28.029-8.5 39.294-5.6 11.265-13.63 20.031-24.09 26.297-10.4 6.265-22.8 9.398-37.2 9.398Zm0-25.596c9.13.133 16.73-1.833 22.8-5.899s10.6-9.832 13.6-17.298c3.06-7.466 4.6-16.198 4.6-26.196 0-9.999-1.54-18.664-4.6-25.997-3-7.332-7.53-13.031-13.6-17.097-6.07-4.066-13.67-6.166-22.8-6.3-9.13-.133-16.73 1.834-22.79 5.9-6.07 4.066-10.64 9.832-13.7 17.297-3.002 7.466-4.502 16.198-4.502 26.197 0 9.998 1.5 18.664 4.502 25.996 3.06 7.332 7.63 13.032 13.7 17.098 6.06 4.066 13.66 6.166 22.79 6.299Zm148.34 25.596c-11.59 0-21.79-2.333-30.59-6.999-8.8-4.732-15.67-11.365-20.6-19.897-4.93-8.532-7.4-18.564-7.4-30.096V4.146l27.6-.2v89.787c0 4.733.8 9.032 2.4 12.898 1.6 3.867 3.8 7.199 6.6 9.999 2.86 2.8 6.16 4.966 9.9 6.499 3.8 1.467 7.83 2.2 12.09 2.2 4.4 0 8.47-.767 12.2-2.3 3.8-1.533 7.1-3.699 9.9-6.499 2.8-2.8 4.97-6.132 6.5-9.999 1.6-3.866 2.4-8.132 2.4-12.798V3.946h27.6v89.987c0 11.532-2.47 21.564-7.4 30.096s-11.8 15.165-20.6 19.897c-8.8 4.666-19 6.999-30.6 6.999Z"
            />
            <path
              opacity={0}
              stroke="url(#cv)"
              strokeWidth="1.31"
              d="M1 145C1 145.402 1.24017 145.764 1.60989 145.921C1.97961 146.077 2.40717 145.998 2.69563 145.718L100.987 50.5416V145C100.987 145.552 101.435 146 101.987 146H131.822C132.072 146 132.314 145.906 132.498 145.737L256.676 31.9043C256.882 31.7149 257 31.4474 257 31.1671V2C257 1.44772 256.552 1 256 1H164.883C164.33 1 163.883 1.44772 163.883 2V31.1671C163.883 31.7194 164.33 32.1671 164.883 32.1671H214.74L132.822 107.876V2C132.822 1.44772 132.375 1 131.822 1H101.987C101.728 1 101.48 1.10042 101.293 1.28015L1.30587 97.6937C1.11041 97.8822 1 98.1421 1 98.4136V145Z"
              clipRule="evenodd"
              mask="url(#d)"
            />
            <path
              opacity={0}
              stroke="url(#ev)"
              strokeWidth="1.31"
              d="M278.615 147.926V3.946h27.596l62.592 95.986V3.946h27.596v143.98h-27.596l-62.592-95.987v95.987h-27.596Zm133.685 0 48.393-72.79-46.993-71.19h33.395l30.596 47.993 30.196-47.993h33.595l-46.993 71.19 48.193 72.79h-33.395l-31.596-49.593-31.796 49.593H576.3Zm187.757 0V29.342h-45.394V3.946h117.984v25.396h-45.394v118.584h-27.196Zm129.907 0v-58.592l-49.193-85.388h31.795l31.196 54.192 31.196-54.192h31.795l-49.193 85.388v58.592h-27.596Zm144.546 2.999c-14.4 0-26.83-3.133-37.29-9.398-10.401-6.266-18.433-15.032-24.099-26.297-5.599-11.265-8.399-24.363-8.399-39.294 0-14.932 2.8-28.03 8.399-39.295 5.666-11.265 13.698-20.03 24.099-26.296 10.46-6.266 22.89-9.399 37.29-9.399 14.4 0 26.8 3.133 37.2 9.399 10.46 6.266 18.49 15.031 24.09 26.296 5.67 11.265 8.5 24.363 8.5 39.295 0 14.931-2.83 28.029-8.5 39.294-5.6 11.265-13.63 20.031-24.09 26.297-10.4 6.265-22.8 9.398-37.2 9.398Zm0-25.596c9.13.133 16.73-1.833 22.8-5.899s10.6-9.832 13.6-17.298c3.06-7.466 4.6-16.198 4.6-26.196 0-9.999-1.54-18.664-4.6-25.997-3-7.332-7.53-13.031-13.6-17.097-6.07-4.066-13.67-6.166-22.8-6.3-9.13-.133-16.73 1.834-22.79 5.9-6.07 4.066-10.64 9.832-13.7 17.297-3.002 7.466-4.502 16.198-4.502 26.197 0 9.998 1.5 18.664 4.502 25.996 3.06 7.332 7.63 13.032 13.7 17.098 6.06 4.066 13.66 6.166 22.79 6.299Zm148.34 25.596c-11.59 0-21.79-2.333-30.59-6.999-8.8-4.732-15.67-11.365-20.6-19.897-4.93-8.532-7.4-18.564-7.4-30.096V4.146l27.6-.2v89.787c0 4.733.8 9.032 2.4 12.898 1.6 3.867 3.8 7.199 6.6 9.999 2.86 2.8 6.16 4.966 9.9 6.499 3.8 1.467 7.83 2.2 12.09 2.2 4.4 0 8.47-.767 12.2-2.3 3.8-1.533 7.1-3.699 9.9-6.499 2.8-2.8 4.97-6.132 6.5-9.999 1.6-3.866 2.4-8.132 2.4-12.798V3.946h27.6v89.987c0 11.532-2.47 21.564-7.4 30.096s-11.8 15.165-20.6 19.897c-8.8 4.666-19 6.999-30.6 6.999Z"
              mask="url(#d)"
            />
            <defs>
              <motion.linearGradient
                id="av"
                animate={{ x1 }}
                transition={{ ease: 'easeOut', duration: 0.35 }}
                x2="30.5"
                y1={179}
                y2="263.5"
                gradientUnits="userSpaceOnUse">
                <stop stopColor="#D9D9D9" stopOpacity={0} />
                <stop offset={1} stopColor="#D9D9D9" />
              </motion.linearGradient>
              <motion.linearGradient
                id="bv"
                animate={{ x1 }}
                transition={{ ease: 'easeOut', duration: 0.35 }}
                x2="30.5"
                y1={179}
                y2="263.5"
                gradientUnits="userSpaceOnUse">
                <stop stopColor="#D9D9D9" stopOpacity={0} />
                <stop offset={1} stopColor="#D9D9D9" />
              </motion.linearGradient>
              <linearGradient
                id="cv"
                x1="833.023"
                x2="836.537"
                y1="-588.11"
                y2={width >= 768 ? 150.543 : 250.543}
                gradientUnits="userSpaceOnUse">
                <stop stopColor="#fff" />
                <stop offset={1} stopColor="#fff" stopOpacity={0} />
              </linearGradient>
              <linearGradient
                id="ev"
                x1="833.023"
                x2="836.537"
                y1="-588.11"
                y2={width >= 768 ? 150.543 : 250.543}
                gradientUnits="userSpaceOnUse">
                <stop stopColor="#fff" />
                <stop offset={1} stopColor="#fff" stopOpacity={0} />
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>
      <div
        ref={ref}
        className="absolute bottom-0 left-0 w-full py-6 text-center text-xs font-light text-gallery/50 md:text-base"
        style={{
          backdropFilter: 'blur(24px)',
          background:
            'linear-gradient(55.48deg, rgba(90, 90, 90, 0.1) -4.18%, rgba(0, 0, 0, 0.1) 20.08%, rgba(2, 2, 3, 0.1) 162.9%)'
        }}>
        <div className="space-x-2">
          <Link href="#">
            <span className="hover:underline">IMPRESSUM</span>
          </Link>
          <span>|</span>
          <Link href="#">
            <span className="hover:underline">DATENSCHUTZ</span>
          </Link>
        </div>

        <div
          style={{
            height: '0.0625rem',
            background:
              'linear-gradient(90deg, #D9D9D9 0%, rgba(0, 0, 0, 0) 0%, rgba(255, 255, 255, 0.5) 0%, rgba(0, 0, 0, 0) 100%)'
          }}
          className="absolute top-0 left-0 w-full opacity-25"></div>
      </div>
    </div>
  );
};

export default FooterSecondaryBottom;
